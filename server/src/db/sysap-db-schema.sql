-- MySQL Script generated by MySQL Workbench
-- Fri Nov 10 21:05:00 2023
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema Sysap
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `Sysap` ;

-- -----------------------------------------------------
-- Schema Sysap
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `Sysap` DEFAULT CHARACTER SET utf8 ;
SHOW WARNINGS;
USE `Sysap` ;

-- -----------------------------------------------------
-- Table `Sysap`.`Program`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Sysap`.`Program` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `Sysap`.`Program` (
  `ProgramName` VARCHAR(45) NOT NULL,
  `ProgramDescription` VARCHAR(320) NOT NULL,
  `ProgramDuration` INT NOT NULL,
  PRIMARY KEY (`ProgramName`))
ENGINE = InnoDB;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `Sysap`.`Exercise`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Sysap`.`Exercise` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `Sysap`.`Exercise` (
  `idExercise` SMALLINT(2) UNSIGNED NOT NULL AUTO_INCREMENT,
  `ExerciseName` VARCHAR(45) NOT NULL,
  `ExerciseDescription` VARCHAR(320) NOT NULL,
  `ExerciseNumberRepetitionsMin` INT NOT NULL DEFAULT 0,
  `ExerciseNumberRepetitionsMax` INT NOT NULL DEFAULT 0,
  `ExerciseDescriptionURL` VARCHAR(45) NULL,
  PRIMARY KEY (`idExercise`))
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE UNIQUE INDEX `ExerciceName_UNIQUE` ON `Sysap`.`Exercise` (`ExerciseName` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `Sysap`.`ExerciseSeries`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Sysap`.`ExerciseSeries` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `Sysap`.`ExerciseSeries` (
  `idExerciseSeries` SMALLINT(2) UNSIGNED NOT NULL AUTO_INCREMENT,
  `ExerciseSeriesName` VARCHAR(45) NOT NULL,
  `ExerciseSeriesDescription` VARCHAR(320) NULL,
  PRIMARY KEY (`idExerciseSeries`))
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE UNIQUE INDEX `ExerciceSeriesName_UNIQUE` ON `Sysap`.`ExerciseSeries` (`ExerciseSeriesName` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `Sysap`.`ProgramExerciseSeries`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Sysap`.`ProgramExerciseSeries` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `Sysap`.`ProgramExerciseSeries` (
  `ProgramExerciseSeriesId` SMALLINT(2) UNSIGNED NOT NULL AUTO_INCREMENT,
  `ProgramName` VARCHAR(45) NOT NULL,
  `ExerciceSeriesId` SMALLINT(2) UNSIGNED NOT NULL,
  `startDay` INT NOT NULL,
  `endDay` INT NOT NULL,
  PRIMARY KEY (`ProgramExerciseSeriesId`),
  CONSTRAINT `fk_exercise_series_id`
    FOREIGN KEY (`ExerciceSeriesId`)
    REFERENCES `Sysap`.`ExerciseSeries` (`idExerciseSeries`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ProgramExerciseSeries_Program1`
    FOREIGN KEY (`ProgramName`)
    REFERENCES `Sysap`.`Program` (`ProgramName`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE INDEX `fk_exercise_series_id_idx` ON `Sysap`.`ProgramExerciseSeries` (`ExerciceSeriesId` ASC) VISIBLE;

SHOW WARNINGS;
CREATE INDEX `fk_ProgramExerciseSeries_Program1_idx` ON `Sysap`.`ProgramExerciseSeries` (`ProgramName` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `Sysap`.`ExerciseSeriesExercise`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Sysap`.`ExerciseSeriesExercise` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `Sysap`.`ExerciseSeriesExercise` (
  `idExerciseSeriesExercise` SMALLINT(2) UNSIGNED NOT NULL AUTO_INCREMENT,
  `ExerciseSeriesId` SMALLINT(2) UNSIGNED NOT NULL,
  `ExerciseId` SMALLINT(2) UNSIGNED NOT NULL,
  `ExerciseOrder` INT NOT NULL,
  `ExerciseNumberSeriesMin` INT NOT NULL DEFAULT 0,
  `ExerciseNumberSeriesMax` INT NOT NULL,
  PRIMARY KEY (`idExerciseSeriesExercise`),
  CONSTRAINT `fk_ExerciseId`
    FOREIGN KEY (`ExerciseId`)
    REFERENCES `Sysap`.`Exercise` (`idExercise`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ExerciseSeriesId`
    FOREIGN KEY (`ExerciseSeriesId`)
    REFERENCES `Sysap`.`ExerciseSeries` (`idExerciseSeries`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE)
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE INDEX `fk_ExerciseId_idx` ON `Sysap`.`ExerciseSeriesExercise` (`ExerciseId` ASC) VISIBLE;

SHOW WARNINGS;
CREATE INDEX `fk_ExerciseSeriesId_idx` ON `Sysap`.`ExerciseSeriesExercise` (`ExerciseSeriesId` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `Sysap`.`User`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Sysap`.`User` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `Sysap`.`User` (
  `idUser` INT NOT NULL,
  `Name` VARCHAR(45) NOT NULL,
  `FamilyName` VARCHAR(45) NOT NULL,
  `Email` VARCHAR(45) NOT NULL,
  `Password` VARCHAR(45) NOT NULL,
  `ProgramName` VARCHAR(45) NULL,
  PRIMARY KEY (`idUser`),
  CONSTRAINT `fk_User_Program1`
    FOREIGN KEY (`ProgramName`)
    REFERENCES `Sysap`.`Program` (`ProgramName`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE INDEX `fk_User_Program1_idx` ON `Sysap`.`User` (`ProgramName` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `Sysap`.`ProgramDayRecord`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Sysap`.`ProgramDayRecord` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `Sysap`.`ProgramDayRecord` (
  `idProgramDayRecord` SMALLINT(2) UNSIGNED NOT NULL,
  `date` DATE NOT NULL,
  `UserId` INT NOT NULL,
  PRIMARY KEY (`idProgramDayRecord`),
  CONSTRAINT `fk_ProgramDayRecord_User1`
    FOREIGN KEY (`UserId`)
    REFERENCES `Sysap`.`User` (`idUser`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE UNIQUE INDEX `date_UNIQUE` ON `Sysap`.`ProgramDayRecord` (`date` ASC) VISIBLE;

SHOW WARNINGS;
CREATE INDEX `fk_ProgramDayRecord_User1_idx` ON `Sysap`.`ProgramDayRecord` (`UserId` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `Sysap`.`ExerciseRecord`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Sysap`.`ExerciseRecord` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `Sysap`.`ExerciseRecord` (
  `idExerciseRecord` SMALLINT(2) UNSIGNED NOT NULL,
  `numberSeries` SMALLINT(2) NOT NULL DEFAULT 0,
  `numberRepetitions` SMALLINT(2) NOT NULL DEFAULT 0,
  `ProgramDayRecordId` SMALLINT(2) UNSIGNED NOT NULL,
  `ExerciseId` SMALLINT(2) UNSIGNED NOT NULL,
  PRIMARY KEY (`idExerciseRecord`),
  CONSTRAINT `fk_program_day_record`
    FOREIGN KEY (`ProgramDayRecordId`)
    REFERENCES `Sysap`.`ProgramDayRecord` (`idProgramDayRecord`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_exerice`
    FOREIGN KEY (`ExerciseId`)
    REFERENCES `Sysap`.`Exercise` (`idExercise`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE INDEX `fk_program_day_record_idx` ON `Sysap`.`ExerciseRecord` (`ProgramDayRecordId` ASC) VISIBLE;

SHOW WARNINGS;
CREATE INDEX `fk_exerice_idx` ON `Sysap`.`ExerciseRecord` (`ExerciseId` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `Sysap`.`Reminder`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Sysap`.`Reminder` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `Sysap`.`Reminder` (
  `idReminder` INT NOT NULL,
  `nextReminder` DATETIME NULL,
  `Frequency` DATE NULL,
  `UserId` INT NOT NULL,
  PRIMARY KEY (`idReminder`),
  CONSTRAINT `fk_Reminder_User1`
    FOREIGN KEY (`UserId`)
    REFERENCES `Sysap`.`User` (`idUser`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE INDEX `fk_Reminder_User1_idx` ON `Sysap`.`Reminder` (`UserId` ASC) VISIBLE;

SHOW WARNINGS;

SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `Sysap`.`Program`
-- -----------------------------------------------------
START TRANSACTION;
USE `Sysap`;
INSERT INTO `Sysap`.`Program` (`ProgramName`, `ProgramDescription`, `ProgramDuration`) VALUES ('PACE', 'This is the PACE program', 60);
INSERT INTO `Sysap`.`Program` (`ProgramName`, `ProgramDescription`, `ProgramDuration`) VALUES ('PATH', 'This is the PATH program', 60);

COMMIT;


-- -----------------------------------------------------
-- Data for table `Sysap`.`Exercise`
-- -----------------------------------------------------
START TRANSACTION;
USE `Sysap`;
INSERT INTO `Sysap`.`Exercise` (`idExercise`, `ExerciseName`, `ExerciseDescription`, `ExerciseNumberRepetitionsMin`, `ExerciseNumberRepetitionsMax`, `ExerciseDescriptionURL`) VALUES (1, 'Sit-Ups', 'These are sit-ups', 10, 30, 'https://youtu.be/ojByzJhwVFE');
INSERT INTO `Sysap`.`Exercise` (`idExercise`, `ExerciseName`, `ExerciseDescription`, `ExerciseNumberRepetitionsMin`, `ExerciseNumberRepetitionsMax`, `ExerciseDescriptionURL`) VALUES (2, 'Lie Down', 'Not as easy as it seems', 40, 50, 'https://youtu.be/gyds04mi_z0');
INSERT INTO `Sysap`.`Exercise` (`idExercise`, `ExerciseName`, `ExerciseDescription`, `ExerciseNumberRepetitionsMin`, `ExerciseNumberRepetitionsMax`, `ExerciseDescriptionURL`) VALUES (3, 'Sleeping', 'Dont laugh', 50, 60, 'https://youtu.be/ojByzJhwVFE');

COMMIT;


-- -----------------------------------------------------
-- Data for table `Sysap`.`ExerciseSeries`
-- -----------------------------------------------------
START TRANSACTION;
USE `Sysap`;
INSERT INTO `Sysap`.`ExerciseSeries` (`idExerciseSeries`, `ExerciseSeriesName`, `ExerciseSeriesDescription`) VALUES (1, 'SeriesOne', 'Consists of exercice 1 (sit-ups) and 2 (lie downs) a few times');
INSERT INTO `Sysap`.`ExerciseSeries` (`idExerciseSeries`, `ExerciseSeriesName`, `ExerciseSeriesDescription`) VALUES (2, 'SeriesTwo', 'Consists of exercice 1 (sit-ups) and 3 (sleeping)');
INSERT INTO `Sysap`.`ExerciseSeries` (`idExerciseSeries`, `ExerciseSeriesName`, `ExerciseSeriesDescription`) VALUES (3, 'SeriesThree', 'Consists of exercices 1, 2, and 3');

COMMIT;


-- -----------------------------------------------------
-- Data for table `Sysap`.`ProgramExerciseSeries`
-- -----------------------------------------------------
START TRANSACTION;
USE `Sysap`;
INSERT INTO `Sysap`.`ProgramExerciseSeries` (`ProgramExerciseSeriesId`, `ProgramName`, `ExerciceSeriesId`, `startDay`, `endDay`) VALUES (1, 'PACE', 3, 1, 60);
INSERT INTO `Sysap`.`ProgramExerciseSeries` (`ProgramExerciseSeriesId`, `ProgramName`, `ExerciceSeriesId`, `startDay`, `endDay`) VALUES (2, 'PATH', 1, 1, 19);
INSERT INTO `Sysap`.`ProgramExerciseSeries` (`ProgramExerciseSeriesId`, `ProgramName`, `ExerciceSeriesId`, `startDay`, `endDay`) VALUES (3, 'PACE', 2, 20, 39);
INSERT INTO `Sysap`.`ProgramExerciseSeries` (`ProgramExerciseSeriesId`, `ProgramName`, `ExerciceSeriesId`, `startDay`, `endDay`) VALUES (4, 'PATH', 3, 40, 60);

COMMIT;


-- -----------------------------------------------------
-- Data for table `Sysap`.`ExerciseSeriesExercise`
-- -----------------------------------------------------
START TRANSACTION;
USE `Sysap`;
INSERT INTO `Sysap`.`ExerciseSeriesExercise` (`idExerciseSeriesExercise`, `ExerciseSeriesId`, `ExerciseId`, `ExerciseOrder`, `ExerciseNumberSeriesMin`, `ExerciseNumberSeriesMax`) VALUES (1, 1, 1, 1, 2, 3);
INSERT INTO `Sysap`.`ExerciseSeriesExercise` (`idExerciseSeriesExercise`, `ExerciseSeriesId`, `ExerciseId`, `ExerciseOrder`, `ExerciseNumberSeriesMin`, `ExerciseNumberSeriesMax`) VALUES (2, 1, 2, 2, 3, 4);
INSERT INTO `Sysap`.`ExerciseSeriesExercise` (`idExerciseSeriesExercise`, `ExerciseSeriesId`, `ExerciseId`, `ExerciseOrder`, `ExerciseNumberSeriesMin`, `ExerciseNumberSeriesMax`) VALUES (3, 2, 1, 1, 2, 4);
INSERT INTO `Sysap`.`ExerciseSeriesExercise` (`idExerciseSeriesExercise`, `ExerciseSeriesId`, `ExerciseId`, `ExerciseOrder`, `ExerciseNumberSeriesMin`, `ExerciseNumberSeriesMax`) VALUES (4, 2, 3, 2, 2, 5);
INSERT INTO `Sysap`.`ExerciseSeriesExercise` (`idExerciseSeriesExercise`, `ExerciseSeriesId`, `ExerciseId`, `ExerciseOrder`, `ExerciseNumberSeriesMin`, `ExerciseNumberSeriesMax`) VALUES (5, 3, 1, 1, 2, 4);
INSERT INTO `Sysap`.`ExerciseSeriesExercise` (`idExerciseSeriesExercise`, `ExerciseSeriesId`, `ExerciseId`, `ExerciseOrder`, `ExerciseNumberSeriesMin`, `ExerciseNumberSeriesMax`) VALUES (6, 3, 2, 2, 4, 5);
INSERT INTO `Sysap`.`ExerciseSeriesExercise` (`idExerciseSeriesExercise`, `ExerciseSeriesId`, `ExerciseId`, `ExerciseOrder`, `ExerciseNumberSeriesMin`, `ExerciseNumberSeriesMax`) VALUES (7, 3, 3, 3, 3, 4);

COMMIT;


-- -----------------------------------------------------
-- Data for table `Sysap`.`User`
-- -----------------------------------------------------
START TRANSACTION;
USE `Sysap`;
INSERT INTO `Sysap`.`User` (`idUser`, `Name`, `FamilyName`, `Email`, `Password`, `ProgramName`) VALUES (1, 'Robert', 'Smith', 'robert@testmail.com', '1234', 'PACE');
INSERT INTO `Sysap`.`User` (`idUser`, `Name`, `FamilyName`, `Email`, `Password`, `ProgramName`) VALUES (2, 'Henry', 'Williams', 'henry@testmail.com', 'superSecret', 'PATH');

COMMIT;


-- -----------------------------------------------------
-- Data for table `Sysap`.`ProgramDayRecord`
-- -----------------------------------------------------
START TRANSACTION;
USE `Sysap`;
INSERT INTO `Sysap`.`ProgramDayRecord` (`idProgramDayRecord`, `date`, `UserId`) VALUES (1, '2022-04-01', 1);
INSERT INTO `Sysap`.`ProgramDayRecord` (`idProgramDayRecord`, `date`, `UserId`) VALUES (2, '2022-04-02', DEFAULT);

COMMIT;


-- -----------------------------------------------------
-- Data for table `Sysap`.`ExerciseRecord`
-- -----------------------------------------------------
START TRANSACTION;
USE `Sysap`;
INSERT INTO `Sysap`.`ExerciseRecord` (`idExerciseRecord`, `numberSeries`, `numberRepetitions`, `ProgramDayRecordId`, `ExerciseId`) VALUES (1, 3, 10, 1, 1);
INSERT INTO `Sysap`.`ExerciseRecord` (`idExerciseRecord`, `numberSeries`, `numberRepetitions`, `ProgramDayRecordId`, `ExerciseId`) VALUES (2, 2, 8, 1, 2);
INSERT INTO `Sysap`.`ExerciseRecord` (`idExerciseRecord`, `numberSeries`, `numberRepetitions`, `ProgramDayRecordId`, `ExerciseId`) VALUES (3, 3, 10, 2, 1);
INSERT INTO `Sysap`.`ExerciseRecord` (`idExerciseRecord`, `numberSeries`, `numberRepetitions`, `ProgramDayRecordId`, `ExerciseId`) VALUES (4, 2, 8, 2, 2);

COMMIT;

